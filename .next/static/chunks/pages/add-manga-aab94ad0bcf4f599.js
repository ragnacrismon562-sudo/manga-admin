(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{8465:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-manga",function(){return r(8196)}])},7317:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(5893),s=r(1664),n=r.n(s),l=r(1163),d=r(7294),o=r(1046);function i(){let e=(0,l.useRouter)(),[t,r]=(0,d.useState)(null),[s,i]=(0,d.useState)(!1),[u,c]=(0,d.useState)(!1);(0,d.useEffect)(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches&&(i(!0),document.documentElement.classList.add("dark"))},[]),(0,d.useEffect)(()=>{o.O.auth.getSession().then(e=>{let{data:{session:t}}=e;r(null==t?void 0:t.user)});let{data:{subscription:e}}=o.O.auth.onAuthStateChange((e,t)=>{r(null==t?void 0:t.user)});return()=>null==e?void 0:e.unsubscribe()},[]);let g=async()=>{await o.O.auth.signOut(),e.push("/login")};if(!t)return null;let m=[{href:"/",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/add-manga",label:"Add Manga",icon:"\uD83D\uDCDA"},{href:"/add-chapter",label:"Add Chapter",icon:"\uD83D\uDCD6"},{href:"/upload-pages",label:"Upload Pages",icon:"\uD83D\uDCF8"}];return(0,a.jsx)("nav",{className:"bg-gradient-to-r from-blue-600 to-blue-700 dark:from-blue-900 dark:to-blue-800 text-white shadow-lg sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83D\uDCDA"}),(0,a.jsx)(n(),{href:"/",className:"font-bold text-xl hover:text-blue-100 transition-colors",children:"Manga Admin"})]}),(0,a.jsx)("div",{className:"hidden md:flex items-center space-x-1",children:m.map(t=>(0,a.jsx)(n(),{href:t.href,children:(0,a.jsxs)("button",{className:"px-4 py-2 rounded-lg transition-colors ".concat(e.pathname===t.href?"bg-blue-800 dark:bg-blue-700":"hover:bg-blue-700 dark:hover:bg-blue-700"),children:[t.icon," ",t.label]})},t.href))}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,a.jsx)("button",{onClick:()=>{i(!s),s?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark")},className:"p-2 hover:bg-blue-700 dark:hover:bg-blue-700 rounded-lg transition-colors",title:s?"Light mode":"Dark mode",children:s?"☀️":"\uD83C\uDF19"}),(0,a.jsx)("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-2 bg-blue-700 dark:bg-blue-800 rounded-lg",children:(0,a.jsx)("span",{className:"text-sm font-medium truncate max-w-[150px]",children:null==t?void 0:t.email})}),(0,a.jsx)("button",{onClick:g,className:"px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg transition-colors font-semibold text-sm",children:"Logout"}),(0,a.jsx)("button",{onClick:()=>c(!u),className:"md:hidden p-2 hover:bg-blue-700 rounded-lg transition-colors",children:u?"✕":"☰"})]})]}),u&&(0,a.jsx)("div",{className:"md:hidden pb-4 space-y-2",children:m.map(t=>(0,a.jsx)(n(),{href:t.href,children:(0,a.jsxs)("button",{className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(e.pathname===t.href?"bg-blue-800 dark:bg-blue-700":"hover:bg-blue-700 dark:hover:bg-blue-700"),children:[t.icon," ",t.label]})},t.href))})]})})}},1046:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});let a=(0,r(2629).eI)("https://bdbpkmvxnbyaykfxbnft.supabase.co","oEz8e5NLLLOGA6TNKVs2YD0JXnF98Zu7DrztmO7ndXprNiHtc6by1N6TKV04C7i2qJkVn16yWy+6Frl3InfmOg==")},8196:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(5893),s=r(7294),n=r(1163),l=r(9008),d=r.n(l),o=r(1046),i=r(7317);function u(){let e=(0,n.useRouter)(),[t,r]=(0,s.useState)(null),[l,u]=(0,s.useState)({title:"",description:"",author:"",status:"ongoing",genres:"",cover_image:""}),[c,g]=(0,s.useState)(!1),[m,b]=(0,s.useState)(""),[h,x]=(0,s.useState)("");(0,s.useEffect)(()=>{o.O.auth.getSession().then(t=>{let{data:{session:a}}=t;a?r(a.user):e.push("/login")})},[e]);let p=e=>{let{name:t,value:r}=e.target;u(e=>({...e,[t]:r}))},f=async t=>{t.preventDefault(),g(!0),b(""),x("");try{let t=l.genres.split(",").map(e=>e.trim()).filter(e=>e),{data:r,error:a}=await o.O.from("manga").insert([{title:l.title,description:l.description,author:l.author,status:l.status,genres:t,cover_image:l.cover_image}]);if(a)throw a;x("Manga added successfully!"),u({title:"",description:"",author:"",status:"ongoing",genres:"",cover_image:""}),setTimeout(()=>e.push("/"),2e3)}catch(e){b(e.message)}g(!1)};return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d(),{children:(0,a.jsx)("title",{children:"Add Manga - Manga Admin"})}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)(i.Z,{}),(0,a.jsxs)("main",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Add New Manga"}),(0,a.jsxs)("form",{onSubmit:f,className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 space-y-6",children:[m&&(0,a.jsx)("div",{className:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200 px-4 py-3 rounded",children:m}),h&&(0,a.jsx)("div",{className:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-200 px-4 py-3 rounded",children:h}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2",children:"Title *"}),(0,a.jsx)("input",{type:"text",name:"title",value:l.title,onChange:p,placeholder:"Manga Title",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2",children:"Author *"}),(0,a.jsx)("input",{type:"text",name:"author",value:l.author,onChange:p,placeholder:"Author Name",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2",children:"Description"}),(0,a.jsx)("textarea",{name:"description",value:l.description,onChange:p,placeholder:"Manga description...",rows:"4",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2",children:"Genres (comma separated)"}),(0,a.jsx)("input",{type:"text",name:"genres",value:l.genres,onChange:p,placeholder:"Action, Adventure, Comedy",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2",children:"Cover Image URL"}),(0,a.jsx)("input",{type:"url",name:"cover_image",value:l.cover_image,onChange:p,placeholder:"https://example.com/cover.jpg",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2",children:"Status"}),(0,a.jsxs)("select",{name:"status",value:l.status,onChange:p,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,a.jsx)("option",{value:"ongoing",children:"Ongoing"}),(0,a.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold py-2 rounded-lg transition-colors",children:c?"Adding...":"Add Manga"})]})]})]})]}):(0,a.jsx)("div",{children:"Loading..."})}}},function(e){e.O(0,[809,664,888,774,179],function(){return e(e.s=8465)}),_N_E=e.O()}]);